{"version":3,"sources":["utils/index.ts","auth-provider.ts","utils/http.ts","utils/use-async.ts","componets/lib.tsx","context/auth-context.tsx","unauthenticated-app/login.tsx","unauthenticated-app/register.tsx","assets/logo.svg","assets/left.svg","assets/right.svg","unauthenticated-app/index.tsx","utils/user.ts","componets/id-select.tsx","componets/user-select.tsx","screens/project-list/search-panel.tsx","componets/pin.tsx","utils/reorder.ts","utils/use-optimistic-options.ts","utils/project.ts","utils/url.ts","screens/project-list/utils.ts","screens/project-list/list.tsx","screens/project-list/index.tsx","utils/kanban.ts","utils/task.ts","screens/kanban/utils.ts","utils/task-type.ts","assets/task.svg","assets/bug.svg","screens/kanban/create-task.tsx","componets/mark.tsx","componets/drag-and-drop.tsx","screens/kanban/kanban.column.tsx","componets/task-type-select.tsx","screens/kanban/search-panel.tsx","screens/kanban/create-kanban.tsx","screens/kanban/task-modal.tsx","screens/kanban/index.tsx","screens/epic/utils.ts","screens/epic/create-epic.tsx","utils/epic.ts","screens/epic/index.tsx","screens/project/index.tsx","webpack:///./src/assets/logo.svg?1a2c","screens/project-list/project-modal.tsx","componets/project-popover.tsx","componets/user-popover.tsx","authenticated-app.tsx","componets/error-boundary.tsx","App.tsx","reportWebVitals.ts","context/index.tsx","index.tsx"],"names":["useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","timeout","setTimeout","clearTimeout","useDocumentTitle","title","keepOnUnmount","oldTitle","useRef","document","current","console","log","resetRoute","window","location","href","origin","apiUrl","process","localStorageKey","handleUserResponse","user","localStorage","setItem","token","logout","a","removeItem","http","endpoint","data","customConfig","headers","config","method","Authorization","toUpperCase","qs","stringify","body","JSON","fetch","then","response","status","auth","reload","Promise","reject","message","json","ok","useHttp","useAuth","useCallback","defaultInitialStatus","stat","error","defaultConfig","throwOnError","useSafeDispatch","dispatch","mountedRef","useMountedRef","useAsync","initialState","initialConfig","useReducer","state","action","safeDispatch","retry","setRetry","setData","setError","run","promise","runConfig","Error","catch","isIdel","isLoading","isError","isSuccess","Row","styled","div","props","between","undefined","marginBottom","gap","FullPage","FullPageLoading","size","FullPageErrorCallback","ButtonNoPadding","Button","ErrorBox","Text","type","ScreenContainer","bootstrapUser","getItem","AuthContext","React","createContext","displayName","AuthProvider","callback","children","setUser","queryClient","useQueryClient","Provider","login","form","register","clear","context","useContext","LoginScreen","onError","handleSubmit","valuse","onFinish","name","Item","rules","required","placeholder","id","LongButton","loading","htmlType","RigisterScreen","cpassword","values","password","UnauthenticatedApp","isRigister","setIsRigister","Container","Header","Background","onClick","ShadowCard","Title","h2","left","right","header","logo","Card","useUsers","param","client","useQuery","IdSelect","onChange","defaultOptionName","options","resetProps","length","toNumber","Option","map","option","isNaN","Number","UserSelect","users","SearchPanel","setParam","style","layout","evt","target","personId","Pin","checked","onCheckedChange","count","num","reorder","fromId","referenceId","list","copiedList","movingItemIndex","findIndex","item","insertAfter","targetIndex","insertBefore","from","to","toItem","removedItem","splice","toIndex","indexOf","useConfig","queryKey","onSuccess","invalidateQueries","onMutate","previousItems","getQueryData","setQueryData","old","newItem","useDeleteConfig","filter","useEditConfig","useAddConfig","useProjects","useEditProject","useMutation","params","useAddProject","useProject","enabled","useUrlQueryParam","keys","useSearchParams","searchParam","setSearchParam","useSetUrlSearchParam","useMemo","reduce","prev","key","get","o","object","result","Object","forEach","cleanObject","fromEntries","useProjectsSearchParams","useProjectsQueryKey","useProjectModal","projectCreate","setProjectCreate","editingProjectId","setEditingProjectId","editingProject","setUrlParams","projectModalOpen","Boolean","open","close","startEdit","List","mutate","pagination","rowKey","columns","disabled","render","project","pin","sorter","b","localeCompare","String","dataIndex","find","created","dayjs","format","More","deleteProject","useDeleteProject","overlay","Modal","confirm","content","okText","onOk","confirmDeleteProject","ProjectListScreen","dataSource","whyDidYouRender","useKanbans","useReorderKanban","useReorderKanbanConfig","useTasks","useReorderTask","kanbanId","toKanbanId","useReorderTaskConfig","useProjectIdInUrl","useLocation","pathname","match","useProjectInUrl","useKanbanSearchParams","projectId","useKanbansQueryKey","useTasksSearchParams","debouncedNamae","typeId","processorId","tagId","useTasksQueryKey","useTasksModal","editingTaskId","setEditingTaskId","useTask","editingTask","useTaskTypes","CreateTask","setName","addTask","useAddTask","mutateAsync","inputMode","setInputMode","submit","toggle","mode","onBlur","autoFocus","onPressEnter","Mark","keyword","arr","split","str","index","color","Drop","provided","isValidElement","cloneElement","droppableProps","ref","innerRef","DropChild","forwardRef","Drag","draggableProps","dragHandleProps","TaskTypeIcon","taskTypes","taskType","alt","src","taskIcon","bugIcon","TaskCard","task","cursor","KanbanColumn","kanban","allTasks","tasks","TasksContainer","direction","droppableId","minHeight","taskIndex","draggableId","useDeleteKanban","cancelText","TaskTypeSelect","TaskTypes","searchParams","setSearchParams","width","CreateKanban","addKanban","useAddKanban","labelCol","span","wrapperCol","TaskModal","useEditTask","editTask","editLoading","deleteTask","useDeleteTask","useForm","getFieldsValue","setFieldsValue","forceRender","onCancel","resetFields","confirmLoading","visible","initialValues","label","textAlign","fontSize","KanbanScreen","currentProject","kanbans","kanbanIsLoading","onDragEnd","useDragEnd","ColumnsContainer","display","reorderKanban","reorderTask","source","destination","toId","fromKanbanId","fromTask","toTask","useEpicSearchParams","useEpicsQueryKey","CreateEpic","useAddEpic","addEpic","onClose","destroyOnClose","EpicScreen","eipcs","useEpics","deleteEpic","useDeleteEpic","epicCreateOpen","setEpicCreateOpen","overflow","itemLayout","renderItem","eipc","Meta","epic","description","start","end","epicId","ProjectScreen","routeType","units","useRouteType","Aside","selectedKeys","Main","path","element","replace","aside","_extends","assign","i","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","stroke","strokeWidth","fill","fillRule","transform","cx","cy","r","d","SvgLogo","_ref","svgRef","titleId","height","viewBox","xmlns","xmlnsXlink","ForwardRef","ProjectModal","mutateLoading","ProjectPopover","projects","refetch","pinnedProjects","ContentContainer","onVisibleChange","placement","UserPopover","AuthenticatedApp","PageHeader","HeaderLeft","HeaderItem","as","HeaderRight","User","e","preventDefault","h3","main","ErrorBoundary","fallbackRender","Component","App","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","AppProviders","QueryClient","loadServer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.830793b4.chunk.js","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n// ts unknown 类型,表示这个值可以是任何值\n// 简单来说unknown是一个加强版的any,当你想用any的时候,用unknown来代替\nexport const isFalsy = (value: unknown): boolean =>\n  value === 0 ? false : !value;\n\nexport const isVoid = (value: unknown) =>\n  value === undefined || value === null || value === \"\";\n\n// ts类型:never, 在类型操作场景会用到\n// const func = () => {\n// throw new Error();\n// }\n\n// ts类型: interface, 不是一种类型,应该被翻译成接口,或者说使用上面介绍的类型,\n// 创建一个我们自己的类型\n\n// 如果是object: object 那么是函数返回对象或者new 一个js类型都是正确的\n// 需要换成以下方式定义对象\n// let b: {[key: string]: unknown};\n// b = {a: 'aaa'};\n// b = () => {}\n// 在一个函数里，改变传入对象本身是不好的\nexport const cleanObject = (object: { [key: string]: unknown }) => {\n  const result = { ...object };\n  Object.keys(result).forEach((key) => {\n    // @ts-ignore;\n    const value = result[key];\n    if (isVoid(value)) {\n      // @ts-ignore;\n      delete result[key];\n    }\n  });\n  return result;\n};\n\n// useEffect 必须在组建中或者其他hook中运行\n// 如果删除use前缀的话，eslint会认为这是一个普通函数\n// 所以在写customHook中必须以use开头\nexport const useMount = (callback: () => void) => {\n  useEffect(() => {\n    callback();\n    // TODO 依赖项里加上callback会造成无限循环，这个和useCallback和useMemo有关\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n};\n\n// export const debounce = (func: () => any, delay?: number) => {\n//   let timeout: any;\n//   return (...param: ) => {\n//     if (timeout) {\n//       clearTimeout(timeout);\n//     }\n//     timeout = setTimeout(() => {\n//       func(...param: tuple);\n//     }, delay);\n//   };\n// };\n\n// ts 校验参数是否可有可无，delay?:number\n// 后面会用泛型来改变any\nexport const useDebounce = <V>(value: V, delay?: number) => {\n  // ##ts: tuple类型，下面的useState 解构出的两个变量就是典型的tuple类型\n  // tuple是数量固定,类型可以各异版本的数组\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(() => {\n    // 每次在value变化以后，设置一个定时器，\n    const timeout = setTimeout(() => setDebouncedValue(value), delay);\n    // 每次在上一个useEffect处理完在运行\n    return () => clearTimeout(timeout);\n  }, [value, delay]);\n  return debouncedValue;\n};\n\nexport const usePerson = <T>(arr: T[]) => {\n  const [param, setParam] = useState(arr);\n\n  return {\n    param,\n    setParam,\n    add: (item: T) => setParam([...param, item]),\n    removeIndex: (index: number) => {\n      const copy = [...param];\n      copy.splice(index, 1);\n      setParam(copy);\n    },\n    clear: () => setParam([]),\n  };\n};\n\n\nexport const useDocumentTitle = (title: string, keepOnUnmount: boolean = true) => {\n  // useRef 在初始化时整个hook周期都不会变化\n  const oldTitle = useRef(document.title).current;\n  useEffect(() => {\n    document.title = title;\n  }, [title]);\n\n  useEffect(() => {\n    // 当页面被卸载的时候调用回调函数\n    return () => {\n      if (!keepOnUnmount) {\n        console.log('destroy', oldTitle);\n        document.title = oldTitle;\n      }\n    }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n}\n\nexport const resetRoute = () => window.location.href = window.location.origin;\n\n\n/**\n * 返回组件的挂载状态，如果还没挂载或者已经卸载，返回：false；反之返回：true  \n */\nexport const useMountedRef = () => {\n  const mountedRef = useRef(false);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    }\n  });\n  return mountedRef;\n}","// 在真实环境中，如果使用过firebase这种第三方auth服务的话，本文件不需要开发者开发。\nimport { User } from \"./types/user\";\n\nconst apiUrl = process.env.REACT_APP_API_URL;\nconst localStorageKey = \"__auth__provider_token__\";\n\nexport const getToken = () => window.localStorage.getItem(localStorageKey);\n\nexport const handleUserResponse = ({ user }: { user: User }) => {\n  window.localStorage.setItem(localStorageKey, user.token || \"\");\n  return user;\n};\n\nexport const login = (data: { username: string; password: string }) => {\n  return fetch(`${apiUrl}/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (response) => {\n    if (response.ok) {\n      return handleUserResponse(await response.json());\n    } else {\n      return Promise.reject(await response.json());\n    }\n  });\n};\n\nexport const register = (data: { username: string; password: string }) => {\n  return fetch(`${apiUrl}/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(data),\n  }).then(async (response) => {\n    if (response.ok) {\n      return handleUserResponse(await response.json());\n    } else {\n      return Promise.reject(await response.json());\n    }\n  });\n};\n\nexport const logout = async () =>\n  window.localStorage.removeItem(localStorageKey);\n","import qs from \"qs\";\nimport { useAuth } from \"../context/auth-context\";\nimport * as auth from \"../auth-provider\";\nimport { useCallback } from 'react';\nconst apiUrl = process.env.REACT_APP_API_URL;\n\ninterface Config extends RequestInit {\n  data?: object;\n  token?: string;\n}\n\nexport const http = (\n  endpoint: string,\n  { data, token, headers, ...customConfig }: Config = {}\n) => {\n  const config = {\n    method: \"GET\",\n    headers: {\n      Authorization: token ? `Bearer ${token}` : \"\",\n      \"Content-Type\": data ? \"application/json\" : \"\",\n    },\n    ...customConfig,\n  };\n  if (config.method.toUpperCase() === \"GET\") {\n    endpoint += `?${qs.stringify(data)}`;\n  } else {\n    config.body = JSON.stringify(data || {});\n  }\n  // axios 和 fetch不一样，不会在返回非2xx时抛出异常\n  return window.fetch(`${apiUrl}${endpoint}`, config).then(async (response) => {\n    if (response.status === 401) {\n      await auth.logout();\n      window.location.reload();\n      return Promise.reject({ message: \"请重新登录\" });\n    }\n    const data = await response.json();\n    if (response.ok) {\n      return data;\n    } else {\n      return Promise.reject(data);\n    }\n  });\n};\n\nexport const useHttp = () => {\n  const { user } = useAuth();\n  // TS Utility Types\n  // utility type 的用法，用泛型给它穿入一个其他类型，然后utility type对这个类型进行某种操作\n  return useCallback(\n    (...[endpoint, config]: Parameters<typeof http>) =>\n    http(endpoint, { ...config, token: user?.token }), [user?.token]\n  );\n};\n// ************************************************************************************\n// ******************************** ts 学习 *******************************************\n// ************************************************************************************\n// 联合类型 ---- 下面是由string和number联合起来\n// let myFavoriteNumber: string | number;\n// myFavoriteNumber = \"seven\";\n// myFavoriteNumber = 7;\n\n// let jackFavoriteNumber: string | number;\n\n// jackFavoriteNumber = \"nigit\";\n// jackFavoriteNumber = 8;\n\n// // // 类型别名在很多情况下可以和interface互换\n// // interface Person {\n// //   name: string;\n// // }\n// // type Person = {\n// //   name: string;\n// // };\n// // const xiaomin: Person = {\n// //   name: \"xiaomissss\",\n// // };\n\n// // 类型别名，在这种情况下interface没法代替type\n// type FavoriteNumber = string | number;\n// let roseFavoriteNumber: FavoriteNumber = 6;\n\n// // interface也没法实现 Utility type\n// type Person = {\n//   name: string;\n//   age: number;\n// };\n\n// // Partial可以什么都不传\n// const xiaoming: Partial<Person> = {\n//   name: \"beisir\",\n// };\n// // Omit 指定删除Person类型中的name属性，name属性不能出现在赋值中\n// // 如果两个属性name和age都要删除可以使用联合类型 Omit<Person, 'name'|'age'>\n// const shenmiren: Omit<Person, \"name\"> = {\n//   age: 24,\n// };\n\n// type PersonKeys = keyof Person;\n// type PersonValue = Pick<Person, \"name\" | \"age\">;\n// type Aag = Exclude<PersonKeys, \"name\">;\n// // Partial的实现\n// type Partial<T> = {\n//   [P in keyof T]?: T[P];\n// };\n\n// ************************************************************************************\n// ************************************************************************************\n// ************************************************************************************\n","import { useCallback, useReducer, useState } from \"react\";\nimport { useMountedRef } from '.';\n\ninterface State<D> {\n  error: Error | null;\n  data: D | null;\n  stat: \"idle\" | \"loading\" | \"error\" | \"success\";\n}\nconst defaultInitialStatus: State<null> = {\n  stat: \"idle\",\n  error: null,\n  data: null,\n};\n\nconst defaultConfig = {\n  throwOnError: false,\n};\n\nconst useSafeDispatch = <T>(dispatch: (...args: T[]) => void) => {\n  const mountedRef = useMountedRef();\n  return useCallback((...args: T[]) => (mountedRef.current ? dispatch(...args): void 0), [dispatch, mountedRef]);\n}\n\n\nexport const useAsync = <D>(\n  initialState?: State<D>,\n  initialConfig?: typeof defaultConfig\n) => {\n  const config = { ...defaultConfig, ...initialConfig };\n  // const [state, setState] = useState<State<D>>({\n  //   ...defaultInitialStatus,\n  //   ...initialState,\n  // });\n  const [state, dispatch] = useReducer((state: State<D>, action: Partial<State<D>>) => ({...state, ...action}), {\n    ...defaultInitialStatus,\n    ...initialState,\n  });\n  // 防止请求中断时在已经卸载的组件中赋值，\n  const safeDispatch = useSafeDispatch(dispatch);\n  // useState直接传入函数的含义是：惰性初始化；所以，要用useState保存函数，不能直接传入函数\n  const [retry, setRetry] = useState(() => ()=>{});\n\n  const setData = useCallback(\n    (data: D) => safeDispatch({\n      data,\n      stat: \"success\",\n      error: null,\n    }), [safeDispatch]\n  );\n  const setError = useCallback(\n    (error: Error) => safeDispatch({\n      error,\n      stat: \"error\",\n      data: null,\n    }), [safeDispatch]\n  );\n  // run 用来触发异步请求\n  const run = useCallback((promise: Promise<D>, runConfig?: {retry: () => Promise<D>}) => {\n    if (!promise || !promise.then) {\n      throw new Error(\"请传入 Promise 数据类型\");\n    }\n    setRetry(() => () => {\n      if (runConfig?.retry) {\n        run(runConfig.retry(), runConfig);\n      }\n    });\n    safeDispatch({stat: \"loading\" });\n    return promise\n      .then((data) => {\n        setData(data);\n        return data;\n      })\n      .catch((error) => {\n        // catch会消化异常如果不主动抛出，外面i接收不到异常的\n        if (config.throwOnError) {\n          console.log(error);\n          return Promise.reject(error);\n        }\n        setError(error);\n      });\n  }, [config.throwOnError, setData, setError, safeDispatch]);\n\n  return {\n    isIdel: state.stat === \"idle\",\n    isLoading: state.stat === \"loading\",\n    isError: state.stat === \"error\",\n    isSuccess: state.stat === \"success\",\n    run,\n    setData,\n    setError,\n    // retry被调用时重新跑一遍run， 让state被刷新\n    retry,\n    ...state,\n  };\n};\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport { Spin, Typography, Button } from \"antd\";\nimport { DevTools } from \"jira-dev-tool\";\nexport const Row = styled.div<{\n  gap?: number | boolean;\n  between?: boolean;\n  marginBottom?: number;\n}>`\n  display: flex;\n  align-items: center;\n  justify-content: ${(props) => (props.between ? \"space-between\" : undefined)};\n  margin-bottom: ${(props) => props.marginBottom + \"rem\"};\n  > * {\n    margin-top: 0 !important;\n    margin-bottom: 0 !important;\n    margin-right: ${(props) =>\n      typeof props.gap === \"number\"\n        ? props.gap + \"rem\"\n        : props.gap\n        ? \"2rem\"\n        : undefined};\n  }\n`;\nconst FullPage = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const FullPageLoading = () => (\n  <FullPage>\n    <Spin size={\"large\"} />\n  </FullPage>\n);\n\nexport const FullPageErrorCallback = ({ error }: { error: Error | null }) => (\n  <FullPage>\n    <DevTools />\n    <ErrorBox error={error} />\n  </FullPage>\n);\n\nexport const ButtonNoPadding = styled(Button)`\n  padding: 0;\n`\n\n// 因为不可以在unknown类型中读取任何的属性\n// 类型守卫：当value?.message 符合条件的时候  value is Error 就是Error类型\nconst isError = (value: any): value is Error => value?.message;\n\nexport const ErrorBox = ({error}: {error: unknown}) => {\n  if (isError(error)){\n    return <Typography.Text type={\"danger\"}>{error?.message}</Typography.Text>\n  }\n  return null;\n}\n\nexport const ScreenContainer = styled.div`\n  padding: 3.2rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n`\n","import React, { ReactNode } from \"react\";\nimport { useMount } from \"../utils\";\nimport * as auth from \"../auth-provider\";\nimport { User } from \"../types/user\";\nimport { http } from \"../utils/http\";\nimport { useAsync } from \"../utils/use-async\";\nimport { FullPageLoading, FullPageErrorCallback } from \"../componets/lib\";\nimport { useQueryClient } from 'react-query';\ninterface AuthForm {\n  username: string;\n  password: string;\n}\n\n// 初始化user\nconst bootstrapUser = async () => {\n  let user = null;\n  const token = auth.getToken();\n  if (token) {\n    const data = await http(\"/me\", { token });\n    user = data.user;\n  }\n  return user;\n};\n\nconst AuthContext = React.createContext<\n  | {\n      user: User | null;\n      register: (form: AuthForm) => Promise<void>;\n      login: (form: AuthForm) => Promise<void>;\n      logout: () => Promise<void>;\n    }\n  | undefined\n>(undefined);\n// displayName 实际运用在devTools中，实际对项目没有什么用\nAuthContext.displayName = \"AuthContext\";\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const {\n    data: user,\n    error,\n    isLoading,\n    isIdel,\n    isError,\n    run,\n    setData: setUser,\n  } = useAsync<User | null>();\n\n  const queryClient = useQueryClient();\n\n  // const [user, setUser] = useState<User | null>(null);\n  const login = (form: AuthForm) => auth.login(form).then(setUser);\n  const register = (form: AuthForm) => auth.register(form).then(setUser);\n  const logout = () => auth.logout().then(() => {\n    setUser(null);\n    queryClient.clear();\n  });\n\n  useMount(() => {\n    run(bootstrapUser());\n  });\n\n  if (isIdel || isLoading) {\n    return <FullPageLoading />;\n  }\n\n  if (isError) {\n    return <FullPageErrorCallback error={error} />;\n  }\n\n  return (\n    <AuthContext.Provider\n      children={children}\n      value={{ user, login, register, logout }}\n    />\n  );\n};\n\n// 自定义hooks\nexport const useAuth = () => {\n  const context = React.useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth必须在AuthProvider中使用\");\n  }\n  return context;\n};\n","import React from \"react\";\nimport { useAuth } from \"../context/auth-context\";\nimport { Form, Input } from \"antd\";\nimport { LongButton } from \"./index\";\nimport { useAsync } from '../utils/use-async'\n// interface Base {\n//   name: string;\n// }\n// interface Advance extends Base {\n//   age: number;\n// }\n\n// const test = (p: Base) => {\n\n// }\n\n// // 鸭子类型（duck typeing）：面向接口编程，而不是面向对象编程\n// const a: Advance = {\n//   age: 20,\n//   name: 'beisir'\n// }\n// test(a);\n\nexport const LoginScreen = ({\n  onError,\n}: {\n  onError: (error: Error) => void;\n}) => {\n  const { login, user } = useAuth();\n  const {run, isLoading } = useAsync(undefined, {throwOnError: true});\n  // 原声方式\n  // const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n  //   event.preventDefault();\n  //   const username = (event.currentTarget.elements[0] as HTMLInputElement).value;\n  //   const password = (event.currentTarget.elements[1] as HTMLInputElement).value;\n  //   login({username, password});\n  // }\n  // antd方式\n  const handleSubmit = async (valuse: {\n    username: string;\n    password: string;\n  }) => {\n    try {\n      await run(login(valuse));\n    } catch (err: any){\n      onError(err);\n    }\n  };\n  return (\n    <Form onFinish={handleSubmit}>\n      {user ? (\n        <div>\n          登录成功，用户名：{user?.name}\n          {user.token}\n        </div>\n      ) : null}\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: \"请输入用户名\" }]}\n      >\n        <Input placeholder=\"用户名\" type=\"text\" id=\"username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: \"请输入密码\" }]}\n      >\n        <Input placeholder=\"密码\" type=\"password\" id=\"password\" />\n      </Form.Item>\n      <Form.Item>\n        <LongButton loading={isLoading} htmlType=\"submit\" type=\"primary\">\n          登录\n        </LongButton>\n      </Form.Item>\n    </Form>\n  );\n};\n","import React from \"react\";\nimport { useAuth } from \"../context/auth-context\";\nimport { Form, Input } from \"antd\";\nimport { LongButton } from \"./index\";\nimport { useAsync } from '../utils/use-async';\nexport const RigisterScreen = ({\n  onError,\n}: {\n  onError: (error: Error) => void;\n}) => {\n  const { register } = useAuth();\n  const {run, isLoading } = useAsync(undefined, {throwOnError: true});\n  // const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n  //   event.preventDefault();\n  //   const username = (event.currentTarget.elements[0] as HTMLInputElement).value;\n  //   const password = (event.currentTarget.elements[1] as HTMLInputElement).value;\n  //   register({username, password});\n  // }\n\n  const handleSubmit = async ({cpassword, ...values}: {\n    username: string;\n    password: string;\n    cpassword: string;\n  }) => {\n    if (values.password !== cpassword){\n      onError(new Error('两次输入的密码不一致！'));\n    };\n    try {\n      await run(register(values));\n    } catch (err: any) {\n      console.log(err);\n      onError(err);\n    }\n  };\n  return (\n    <Form onFinish={handleSubmit}>\n      <Form.Item\n        name=\"username\"\n        rules={[{ required: true, message: \"请输入用户名\" }]}\n      >\n        <Input placeholder=\"用户名\" type=\"text\" id=\"username\" />\n      </Form.Item>\n      <Form.Item\n        name=\"password\"\n        rules={[{ required: true, message: \"请输入密码\" }]}\n      >\n        <Input placeholder=\"密码\" type=\"password\" id=\"password\" />\n      </Form.Item>\n      <Form.Item\n        name=\"cpassword\"\n        rules={[{ required: true, message: \"请输确认入密码\" }]}\n      >\n        <Input placeholder=\"确认密码\" type=\"password\" id=\"cpassword\" />\n      </Form.Item>\n      <Form.Item>\n        <LongButton loading={isLoading} htmlType=\"submit\" type=\"primary\">\n          注册\n        </LongButton>\n      </Form.Item>\n    </Form>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/logo.551b5c46.svg\";","export default __webpack_public_path__ + \"static/media/left.e74de3ec.svg\";","export default __webpack_public_path__ + \"static/media/right.b423a6cf.svg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from \"react\";\n// import { Helmet } from 'react-helmet';\nimport { LoginScreen } from \"./login\";\nimport { RigisterScreen } from \"./register\";\nimport { Card, Divider, Button } from \"antd\";\nimport styled from \"@emotion/styled\";\nimport logo from \"../assets/logo.svg\";\nimport left from \"../assets/left.svg\";\nimport right from \"../assets/right.svg\";\nimport { useDocumentTitle } from '../utils';\nimport { ErrorBox } from '../componets/lib';\n\nexport const UnauthenticatedApp = () => {\n  const [isRigister, setIsRigister] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n  useDocumentTitle(isRigister ? \"请注册\" : \"请登录\");\n\n  return (\n    <Container>\n      {/* <Helmet>\n        <title>{isRigister ? \"请注册\" : \"请登录\"}</title>\n      </Helmet> */}\n      <Header />\n      <Background />\n      <Button\n        onClick={() => {\n          throw new Error(\"xxxxxx\");\n        }}\n      >\n        抛出异常\n      </Button>\n      <ShadowCard>\n        <Title>{isRigister ? \"请注册\" : \"请登录\"}</Title>\n        <ErrorBox error={error} />\n        {isRigister ? (\n          <RigisterScreen onError={setError} />\n        ) : (\n          <LoginScreen onError={setError} />\n        )}\n        <Divider />\n        <Button type={\"link\"} onClick={() => setIsRigister(!isRigister)}>\n          {isRigister ? \"已经有账号了？直接登录\" : \"没有账号？注册账号\"}\n        </Button>\n      </ShadowCard>\n    </Container>\n  );\n};\n\nexport const LongButton = styled(Button)`\n  width: 100%;\n`;\n\nconst Title = styled.h2`\n  margin-bottom: 2.4rem;\n  color: rgba(94, 108, 132);\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-position: left bottom, right bottom;\n  background-size: calc(((100vw - 40rem) / 2) - 3.2rem),\n    calc(((100vw - 40rem) / 2) - 3.2rem), cover;\n  /* background-size: 30vw, 30vh, cover; */\n  background-image: url(${left}), url(${right});\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 100vh;\n`;\n\nconst Header = styled.header`\n  background: url(${logo}) no-repeat center;\n  padding: 5rem 0;\n  background-size: 8rem;\n  width: 100%;\n`;\n\nconst ShadowCard = styled(Card)`\n  width: 40rem;\n  min-height: 50rem;\n  padding: 3.2rem 4rem;\n  border-radius: 0.3rem;\n  box-sizing: border-box;\n  box-shadow: rgba(0, 0, 0, 0.1) 0 0 10px;\n  text-align: center;\n`;\n","import { useQuery } from 'react-query';\nimport { User } from \"../types/user\";\nimport { useHttp } from \"./http\";\n\n// export const useUsers = (param?: Partial<User>) => {\n//   const client = useHttp();\n//   const { run, ...result } = useAsync<User[]>();\n//   useEffect(() => {\n//     run(client(\"/users\", { data: cleanObject(param || {}) }));\n//     // eslint-disable-next-line react-hooks/exhaustive-deps\n//   }, [param]);\n//   return result;\n// };\nexport const useUsers = (param?: Partial<User>) => {\n  const client = useHttp();\n  // param 变化的时候触发\n  return useQuery<User[], Error>(['users', param], () => client('/users', {data: param}));\n};\n","import React from 'react';\nimport { Raw } from '../types'\nimport { Select } from 'antd';\n\n\ntype SelectProps = React.ComponentProps<typeof Select>;\n\ninterface IdSelectProps extends Omit<SelectProps, 'value'|'onChange'|'options'>  {\n  value?: Raw | null | undefined,\n  onChange?: (value?: number) => void,\n  defaultOptionName?: string,\n  options?: {name: string, id: number}[]\n};\n\n/**\n * value 可以传入多种类型的值\n * onChange只会回调 number|undefined 类型\n * 当isNaN(Number(value)) 为true的时候，代表选择默认类型\n * 当选择默认类型的时候，onChange会回调undefined\n * @param props \n */\n\nexport const IdSelect = (props: IdSelectProps) => {\n  const {value, onChange, defaultOptionName, options, ...resetProps} = props;\n\n  return <Select {...resetProps} value={options?.length ? toNumber(value): 0} onChange={value => onChange?.(toNumber(value) || undefined)}>\n    {\n      defaultOptionName ? <Select.Option value={0}>{defaultOptionName}</Select.Option> : null\n    }\n    {options?.map(option => <Select.Option key={option.id} value={option.id}>{option.name}</Select.Option>)}\n  </Select>\n\n\n\n}\nconst toNumber = (value: unknown) => isNaN(Number(value)) ? 0: Number(value);","import React from 'react';\nimport { useUsers } from '../utils/user';\nimport { IdSelect } from './id-select';\n\n\nexport const UserSelect = (props: React.ComponentProps<typeof IdSelect>) => {\n  const {data: users} = useUsers();\n  return <IdSelect options={users || []} {...props}>\n\n\n  </IdSelect>\n}","import React from \"react\";\nimport {Input, Form} from 'antd';\nimport { Project } from '../../types/project'\nimport { User } from '../../types/user';\nimport { UserSelect } from '../../componets/user-select'\n// 相当于是对参数进行注释的\n\n\ninterface SearchPanelProps {\n  users: User[];\n  param: Partial<Pick<Project, 'name'|'personId'>> ;\n  setParam: (param: SearchPanelProps[\"param\"]) => void;\n}\nexport const SearchPanel = ({ param, setParam, users }: SearchPanelProps) => {\n  return (\n    <Form style={{marginBottom: '2rem'}} layout={'inline'}>\n      <Form.Item>\n        <Input\n          type=\"text\"\n          value={param.name}\n          onChange={(evt) =>\n            setParam({\n              ...param,\n              name: evt.target.value,\n            })\n          }\n        />\n      </Form.Item>\n      <Form.Item>\n      <UserSelect defaultOptionName={'负责人'}\n        value={param.personId} \n        onChange={value => setParam({...param, personId: value})} />\n      </Form.Item>\n    </Form>\n  );\n};\n","import React from 'react';\nimport { Rate } from 'antd';\n\ninterface PinProps extends React.ComponentProps<typeof Rate> {\n  checked: boolean,\n  onCheckedChange?: (checked: boolean) => void\n}\n\nexport const Pin = ({ checked, onCheckedChange, ...resetProps }: PinProps) => {\n  return <Rate\n    count={1}\n    value={checked ? 1 : 0}\n    onChange={num => onCheckedChange?.(!!num)}\n    {...resetProps}\n  ></Rate>\n}","/**\n * 在本地对排序进行乐观更新\n * @param fromId 要排序的项目的id\n * @param type 'before' | 'after'\n * @param referenceId 参照id\n * @param list 要排序的列表, 比如tasks, kanbans\n */\n export const reorder = ({\n  fromId,\n  type,\n  referenceId,\n  list,\n}: {\n  list: { id: number }[];\n  fromId: number;\n  type: \"after\" | \"before\";\n  referenceId: number;\n}) => {\n  const copiedList = [...list];\n  // 找到fromId对应项目的下标\n  const movingItemIndex = copiedList.findIndex((item) => item.id === fromId);\n  if (!referenceId) {\n    return insertAfter([...copiedList], movingItemIndex, copiedList.length - 1);\n  }\n  const targetIndex = copiedList.findIndex((item) => item.id === referenceId);\n  const insert = type === \"after\" ? insertAfter : insertBefore;\n  return insert([...copiedList], movingItemIndex, targetIndex);\n};\n\n/**\n * 在list中，把from放在to的前边\n * @param list\n * @param from\n * @param to\n */\nconst insertBefore = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex, 0, removedItem);\n  return list;\n};\n\n/**\n * 在list中，把from放在to的后面\n * @param list\n * @param from\n * @param to\n */\nconst insertAfter = (list: unknown[], from: number, to: number) => {\n  const toItem = list[to];\n  const removedItem = list.splice(from, 1)[0];\n  const toIndex = list.indexOf(toItem);\n  list.splice(toIndex + 1, 0, removedItem);\n  return list;\n};\n","import { QueryKey, useQueryClient } from 'react-query';\nimport { Task } from '../types/task';\nimport { Project } from \"../types/project\";\nimport { reorder } from './reorder';\n// 乐观更新-------------\n\nexport const useConfig = (queryKey: QueryKey, callback: (target: any, old: any[] | undefined) => any[]) => {\n\n  const queryClient = useQueryClient();\n  return {\n\n    onSuccess: () => queryClient.invalidateQueries(queryKey),\n    async onMutate(target: any) {\n      const previousItems = queryClient.getQueryData(queryKey);\n      queryClient.setQueryData(queryKey, (old?: any[]) => {\n        return callback(target, old);\n      });\n      return {previousItems}\n    },\n    onError(error: any, newItem: any, context: any) {\n      queryClient.setQueryData(queryKey, (context as {previousItems: Project[]}).previousItems);\n    }\n  }\n}\n\n\nexport const useDeleteConfig = (queryKey: QueryKey) => \n  useConfig(queryKey, (target, old) => old?.filter(item => item.id !== target.id) || []);\n\nexport const useEditConfig = (queryKey: QueryKey) => \n  useConfig(queryKey, (target, old) => old?.map(item => item.id === target.id ? {...item, ...target}: item) || []);\nexport const useAddConfig = (queryKey: QueryKey) => \n  useConfig(queryKey, (target, old) => old ? [...old, target] : []);\n\nexport const useReorderKanbanConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => reorder({ list: old, ...target }));\n\n\nexport const useReorderTaskConfig = (queryKey: QueryKey) =>\n  useConfig(queryKey, (target, old) => {\n    const orderedList = reorder({ list: old, ...target }) as Task[];\n    return orderedList.map((item) =>\n      item.id === target.fromId\n        ? { ...item, kanbanId: target.toKanbanId }\n        : item\n    );\n  });\n","import { useHttp } from \"./http\";\nimport { Project } from \"../types/project\";\nimport { QueryKey, useMutation, useQuery } from 'react-query';\nimport { useAddConfig, useDeleteConfig, useEditConfig } from './use-optimistic-options';\n\n\n\nexport const useProjects = (param?: Partial<Project>) => {\n  const client = useHttp();\n  // param 变化的时候触发\n  return useQuery<Project[], Error>(['projects', param], () => client('/projects', {data: param}));\n};\n\n\n\n// export const useProjects = (param?: Partial<Project>) => {\n//   const client = useHttp();\n//   const { run, ...result } = useAsync<Project[]>();\n//   const fetchProjects = useCallback(\n//     () => client(\"/projects\", { data: cleanObject(param || {})}), [client, param]\n//   );\n//   // 当debounceParam改变的时候执行回调\n//   useEffect(() => {\n//     run(fetchProjects(), {\n//       retry: fetchProjects\n//     });\n//   }, [param, run, fetchProjects]);\n//   return result;\n// };\n\nexport const useEditProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Project>) => client(`/projects/${params.id}`, {\n      method: 'PATCH',\n      data: params\n    }),\n    useEditConfig(queryKey)\n  )\n};\n\n// export const useEditProject = () => {\n//   const { run, ...asyncResult } = useAsync();\n//   const client = useHttp();\n//   const mutate = (params: Partial<Project>) => {\n//     return run(client(`/projects/${params.id}`, {\n//       data: params,\n//       method: 'PATCH'\n//     }))\n//   }\n//   return {mutate, ...asyncResult };\n// }\n\nexport const useAddProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Project>) => client(`/projects`, {\n      method: 'POST',\n      data: params\n    }), \n    useAddConfig(queryKey)\n  )\n}\n\n// export const useAddProject = () => {\n//   const { run, ...asyncResult } = useAsync();\n//   const client = useHttp();\n//   const mutate = (params: Partial<Project>) => {\n//     console.log(params);\n//     return run(client(`projects/${params.id}`, {\n//       data: params,\n//       method: 'POST'\n//     }))\n//   }\n//   return {mutate, ...asyncResult };\n// }\n\n\nexport const useDeleteProject = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({id}: {id: number}) => client(`/projects/${id}`, {\n      method: 'DELETE'\n    }), \n    useDeleteConfig(queryKey)\n  )\n}\n\nexport const useProject = (id?: number) => {\n  const client = useHttp();\n  return useQuery<Project>(\n    ['project', id],\n    () => client(`/projects/${id}`),\n    {\n      enabled: !!id // 当id没有传递的时候就不要请求接口\n    }\n  )\n}","  /***\n * 返回页面url中，指定键的参数值\n */\nimport { useSearchParams, URLSearchParamsInit } from 'react-router-dom';\nimport { useMemo } from 'react';\nimport { cleanObject } from '.';\n\n\n\n// 当 变量 是基本类型的时候，就不会无限循环，\n// 当 变量 是对象的时候，就会无限循环\n// 基本类型，可以放到依赖里；组件状态，可以放到依赖里；非组件状态的对象，不可放到依赖里面\nexport const useUrlQueryParam = <K extends string>(keys: K[]) => {\n  const [searchParam] = useSearchParams();\n  const setSearchParam = useSetUrlSearchParam();\n  return [\n    useMemo(\n      () => keys.reduce((prev, key) => {\n        return {...prev, [key]: searchParam.get(key) || ''};\n      }, {} as { [key in K]: string }), \n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      [searchParam]\n    ),\n    (params: Partial<{[key in K]: unknown}>) => {\n      return setSearchParam(params);\n      // console.log(Object.fromEntries(searchParam))\n      // Object.fromEntries 方法把键值对转换为一个对象，fromEntries接受的参数必须要有iterator\n      // const o = cleanObject({...Object.fromEntries(searchParam), ...params}) as URLSearchParamsInit;\n      // return setSearchParam(o);\n    }\n  ] as const;\n}\n\nexport const useSetUrlSearchParam = () => {\n  const [searchParam, setSearchParam] = useSearchParams();\n  return (params: {[key in string]: unknown}) => {\n    const o = cleanObject({...Object.fromEntries(searchParam), ...params}) as URLSearchParamsInit;\n      return setSearchParam(o);\n  }\n}\n\n// iterator属性：都可以用for of 用来便利\n// var a = [1,2,3];\n// for (const v of a) {console.log(v)};\n// a[Symbol.iterator];\n// var i = a[Symbol.iterator]();\n// i.next();\n\n/**** iterator遍历规则 ***** */\n// const obj = {\n//   data: ['hello', 'word'],\n//   [Symbol.iterator]() {\n//     const self = this;\n//     let index = 0;\n//     return {\n//       next() {\n//         if (index < self.data.length){\n//           return {\n//             value: self.data[index++],\n//             done: false\n//           }\n//         } else {\n//           return {\n//             value: undefined,\n//             done: true\n//           };\n//         }\n//       }\n//     }\n//   }\n// };\n","import { useMemo } from 'react';\nimport { useSetUrlSearchParam, useUrlQueryParam } from '../../utils/url'\nimport { useProject } from '../../utils/project';\nexport const useProjectsSearchParams = () => {\n  const [param, setParam] = useUrlQueryParam(['name', 'personId']);\n  return [\n    useMemo(() => ({...param, personId: Number(param.personId)}), [param]),\n    setParam\n  ] as const;\n};\n// 引入了一个名为 const 断言的字面值的新构造。\n// 它的语法是一个类型断言，用 const 代替类型名称（例如 123 as const）断言构造新的文字表达式时，\n// 我们可以向语言发出以下信号：该表达式中的字面类型不应被扩展（例如：不能从“hello”转换为字符串）\n\n\nexport const useProjectsQueryKey = () => {\n  const [params] = useProjectsSearchParams();\n  return ['projects', params];\n};\n\nexport const useProjectModal = () => {\n  const [{projectCreate}, setProjectCreate] = useUrlQueryParam(['projectCreate']);\n  const [{editingProjectId}, setEditingProjectId] = useUrlQueryParam(['editingProjectId'])\n  const {data: editingProject, isLoading} = useProject(Number(editingProjectId));\n\n  const setUrlParams = useSetUrlSearchParam();\n\n  \n  const open = () => setProjectCreate({projectCreate: true});\n  // const close = () => {\n  //   // 这里有问题\n  //   // alert(\"这里有问题=====>vido----11-5\");\n  //   setProjectCreate({projectCreate: undefined});\n  //   setEditingProjectId({editingProjectId: undefined});\n  // }\n  const close = () =>  setUrlParams({projectCreate: '', editingProjectId: ''});\n  const startEdit = (id: number) => setEditingProjectId({editingProjectId: id});\n  return {\n    projectModalOpen: projectCreate === 'true' || Boolean(editingProjectId),\n    open,\n    close,\n    startEdit,\n    editingProject,\n    isLoading\n  };\n}","import React from \"react\";\nimport { User } from \"../../types/user\";\nimport { Dropdown, Table, Menu, Modal } from \"antd\";\nimport dayjs from \"dayjs\";\nimport { TableProps } from \"antd/es/table\";\nimport { Link } from 'react-router-dom';\nimport { Pin } from '../../componets/pin'\nimport { useEditProject, useDeleteProject } from '../../utils/project';\nimport { ButtonNoPadding } from '../../componets/lib';\nimport { useProjectModal, useProjectsQueryKey } from './utils';\nimport { Project } from '../../types/project';\n// react-router 和 react-router-dom的关系 类似于 react和react-dom/react-native/react-vr...\n\n\ninterface ListProps extends TableProps<Project> {\n  users: User[];\n  refresh?: () => void;\n}\nexport const List = ({ users, ...props }: ListProps) => {\n  const { mutate } = useEditProject(useProjectsQueryKey());\n  // 函数式编程，先一步消化id，后面在接受响应pin\n  const pinProject = (id: number) => (pin: boolean) => mutate({id, pin});\n  \n  return (\n    <Table\n      pagination={false}\n      rowKey={(columns) => columns.id}\n      columns={[\n        {\n          title: <Pin checked={true} disabled={true} />,\n          render(value, project) {\n            return <Pin checked={project.pin} onCheckedChange={pinProject(project.id)} />\n          }\n        },\n        {\n          title: \"名称\",\n          // dataIndex: \"name\",\n          sorter: (a, b) => a.name.localeCompare(b.name),\n          render(value, project) {\n            return <Link to={String(project.id)}>{project.name}</Link>\n          } \n        },\n        {\n          title: \"部门\",\n          dataIndex: \"organization\",\n        },\n        {\n          title: \"负责人\",\n          render(value, project) {\n            return (\n              <span>\n                {users.find((user) => user.id === project.personId)?.name ||\n                  \"未知\"}\n              </span>\n            );\n          },\n        },\n        {\n          title: \"创建时间\",\n          render(value, project) {\n            return (\n              <span>\n                {project.created\n                  ? dayjs(project.created).format(\"YYYY-MM-DD\")\n                  : \"\"}\n              </span>\n            );\n          },\n        },\n        {\n          render(value, project) {\n            return <More project={project} />;\n          },\n        }\n      ]}\n      {...props}\n    />\n  );\n};\n\n\nconst More = ({project}: {project: Project}) => {\n  const { startEdit } = useProjectModal();\n  const editProject = (id: number) => () => startEdit(id);\n  const { mutate: deleteProject } = useDeleteProject(useProjectsQueryKey());\n  const confirmDeleteProject = (id: number) => {\n    Modal.confirm({\n      title: '确定删除这个项目吗？',\n      content: '点击确定删除',\n      okText: '确定',\n      onOk() {\n        deleteProject({id});\n      }\n    });\n  }\n  return (\n    <Dropdown overlay={\n      <Menu>\n        <Menu.Item key={'edit'} onClick={editProject(project.id)}>编辑</Menu.Item>\n        <Menu.Item key={'delete'} onClick={() => confirmDeleteProject(project.id)}>删除</Menu.Item>\n      </Menu>}>\n      <ButtonNoPadding type={'link'}>...</ButtonNoPadding>\n    </Dropdown>\n  );\n}","import { SearchPanel } from \"./search-panel\";\nimport { List } from \"./list\";\nimport { useDebounce, useDocumentTitle } from \"../../utils\";\nimport { useProjects } from \"../../utils/project\";\nimport { useUsers } from \"../../utils/user\";\nimport { useProjectModal, useProjectsSearchParams } from './utils';\nimport { Row, ButtonNoPadding, ErrorBox, ScreenContainer } from '../../componets/lib';\nexport const ProjectListScreen = () => {\n  useDocumentTitle('任务列表', false);\n  const { open } = useProjectModal();\n  const [param, setParam] = useProjectsSearchParams();\n  const { isLoading, error, data: list } = useProjects(useDebounce(param, 500));\n\n\n  // console.log(client('/projects'))\n  // 当debounceParam改变的时候执行回调\n  // useEffect(() => {\n  //   run(client('/projects', {data: cleanObject(debounceParam)}));\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\n  // }, [debounceParam]);\n  // useEffect(() => {\n  //     fetch(`${apiUrl}/users`).then(async (response) => {\n  //         if (response.ok) {\n  //             setUsers(await response.json());\n  //         }\n  //     })\n  // // 这里的空数组相当于是class中componentDidMount的作用，只执行一次\n  // }, []);\n  // 重写上面的useEffect空数组方法\n  // useMount(() => {\n  //   client('/users').then(setUsers);\n  // });\n  const { data: users } = useUsers();\n  return (\n    <ScreenContainer>\n      <Row between={true}>\n        <h1>项目列表</h1>\n        <ButtonNoPadding onClick={open} type={'link'}>创建项目</ButtonNoPadding>\n      </Row>\n      <SearchPanel users={users || []} param={param} setParam={setParam} />\n      <ErrorBox error={error} />\n      <List loading={isLoading} users={users || []} dataSource={list || []} />\n    </ScreenContainer>\n  );\n};\n\n\nProjectListScreen.whyDidYouRender = false;\n\n","import { useHttp } from \"./http\";\nimport { QueryKey, useMutation, useQuery } from 'react-query';\nimport { Kanban } from '../types/kanban';\nimport { useAddConfig, useDeleteConfig, useReorderKanbanConfig } from './use-optimistic-options';\n\n\n\nexport const useKanbans = (param?: Partial<Kanban>) => {\n  const client = useHttp();\n  // param 变化的时候触发\n  return useQuery<Kanban[], Error>(['kanbans', param], () => client('/kanbans', {data: param}));\n};\n\nexport const useAddKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Kanban>) => client(`/kanbans`, {\n      method: 'POST',\n      data: params\n    }), \n    useAddConfig(queryKey)\n  )\n}\n\nexport const useDeleteKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({id}: {id: number}) => client(`/kanbans/${id}`, {\n      method: 'DELETE'\n    }), \n    useDeleteConfig(queryKey)\n  )\n}\n\nexport interface SortProps {\n  // 要重新排序的item\n  fromId: number;\n  // 目标 item\n  referenceId: number;\n  // 放在目标item的前还是后\n  type: 'before'|'after';\n  fromKanbanId?: number;\n  toKanbanId?: number;\n}\n\nexport const useReorderKanban = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: SortProps) => {\n      return client(`/kanbans/reorder`, {\n        data: params,\n        method: 'POST'\n      })\n    },\n    useReorderKanbanConfig(queryKey)\n  )\n}\n","import { useHttp } from \"./http\";\nimport { QueryKey, useMutation, useQuery } from 'react-query';\nimport { Task } from '../types/task';\nimport { useAddConfig, useDeleteConfig, useEditConfig, useReorderTaskConfig } from './use-optimistic-options';\nimport { SortProps } from './kanban';\n\n\nexport const useTasks = (param?: Partial<Task>) => {\n  const client = useHttp();\n  // param 变化的时候触发\n  return useQuery<Task[], Error>(['tasks', param], () => client('/tasks', {data: param}));\n};\n\n\nexport const useAddTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Task>) => client(`/tasks`, {\n      method: 'POST',\n      data: params\n    }), \n    useAddConfig(queryKey)\n  )\n}\n\nexport const useDeleteTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({id}: {id: number}) => client(`/tasks/${id}`, {\n      method: 'DELETE'\n    }), \n    useDeleteConfig(queryKey)\n  )\n}\n\nexport const useTask = (id?: number) => {\n  const client = useHttp();\n  return useQuery<Task>(\n    ['task', id],\n    () => client(`/tasks/${id}`),\n    {\n      enabled: !!id // 当id没有传递的时候就不要请求接口\n    }\n  )\n}\n\nexport const useEditTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Task>) => client(`/tasks/${params.id}`, {\n      method: 'PATCH',\n      data: params\n    }),\n    useEditConfig(queryKey)\n  )\n};\n\nexport const useReorderTask = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: SortProps) => {\n      return client(`/tasks/reorder`, {\n        data: params,\n        method: 'POST'\n      })\n    },\n    useReorderTaskConfig(queryKey)\n  )\n};","import { useCallback, useMemo } from 'react';\nimport { useLocation } from 'react-router'\nimport { useUrlQueryParam } from '../../utils/url';\nimport { useProject } from '../../utils/project';\nimport { useTask } from '../../utils/task';\nimport { useDebounce } from '../../utils';\n\nexport const useProjectIdInUrl = () => {\n  const { pathname } = useLocation();\n  const id = pathname.match(/projects\\/(\\d+)/)?.[1];\n  return Number(id);\n}\n\nexport const useProjectInUrl = () => useProject(useProjectIdInUrl());\n\nexport const useKanbanSearchParams = () => ({projectId: useProjectIdInUrl()})\n\nexport const useKanbansQueryKey = () => ['kanbans', useKanbanSearchParams()];\n\nexport const useTasksSearchParams = () => {\n  const [param] = useUrlQueryParam([\n    'name',\n    'typeId',\n    'processorId',\n    'tagId'\n  ]);\n  const projectId = useProjectIdInUrl();\n  const debouncedNamae = useDebounce(param.name, 200);\n  return useMemo(() => ({\n    projectId,\n    typeId: Number(param.typeId) || undefined,\n    processorId: Number(param.processorId) || undefined,\n    tagId: Number(param.tagId) || undefined,\n    name: debouncedNamae\n  }), [projectId, param, debouncedNamae]);\n}\n\nexport const useTasksQueryKey = () => ['tasks', useTasksSearchParams()];\n\n\nexport const useTasksModal = () => {\n  const [{editingTaskId}, setEditingTaskId] = useUrlQueryParam(['editingTaskId'])\n  const {data: editingTask, isLoading} = useTask(Number(editingTaskId))\n  const startEdit = useCallback((id: number) => {\n    setEditingTaskId({editingTaskId: id})\n  }, [setEditingTaskId]);\n  const close = useCallback(() => {\n    setEditingTaskId({editingTaskId: ''});\n  }, [setEditingTaskId]);\n  return {\n    editingTaskId,\n    editingTask,\n    startEdit,\n    close,\n    isLoading\n  }\n}","import { useHttp } from \"./http\";\nimport { useQuery } from 'react-query';\nimport { TaskType } from '../types/task-type';\n\nexport const useTaskTypes = () => {\n  const client = useHttp();\n  return useQuery<TaskType[], Error>(['taskTypes'], () => client('/taskTypes'));\n};\n","export default __webpack_public_path__ + \"static/media/task.69774797.svg\";","export default __webpack_public_path__ + \"static/media/bug.5d8e8fd5.svg\";","import { Card, Input } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { useAddTask } from '../../utils/task';\nimport { useProjectIdInUrl, useTasksQueryKey } from './utils';\nexport const CreateTask = ({kanbanId}: {kanbanId: number}) => {\n  const [name, setName] = useState('');\n  const { mutateAsync: addTask } = useAddTask(useTasksQueryKey());\n  const projectId = useProjectIdInUrl();\n  const [inputMode, setInputMode] = useState(false);\n\n  const submit = async () => {\n    await addTask({projectId, name, kanbanId});\n    setInputMode(false);\n    setName('');\n  }\n\n  // const toggle = () => setInputMode(!inputMode);\n  const toggle = () => setInputMode(mode => !mode);\n\n  useEffect(() => {\n    if(!inputMode) {\n      setName('');\n    }\n  }, [inputMode]);\n  if (!inputMode) {\n    return <div onClick={toggle}>+创建事物</div>;\n  }\n\n  return <Card>\n    <Input onBlur={toggle} \n      placeholder={'需要做些什么？'}\n      autoFocus={true}\n      onPressEnter={submit}\n      value={name}\n      onChange={evt => setName(evt.target.value)} />\n  </Card>\n}","import React from 'react';\n\nexport const Mark = ({name, keyword}: {name: string, keyword: string}) => {\n  if(!keyword) {\n    return <>{name}</>;\n  }\n  const arr = name.split(keyword);\n  return <>\n    {\n      arr.map((str, index) => <span key={index}>\n        {str}\n        {\n          index === arr.length - 1 ? null : \n          <span style={{color: '#257AFD'}}>{keyword}</span>\n        }\n      </span>)\n    }\n  </>\n}","import React, { ReactNode } from 'react';\nimport { Draggable, DraggableProps, Droppable, DroppableProps, DroppableProvided, DroppableProvidedProps } from 'react-beautiful-dnd';\ntype DropProps = Omit<DroppableProps, 'children'> & {children: ReactNode}\n\nexport const Drop = ({children, ...props}: DropProps) => {\n  return <Droppable {...props}>\n    {\n      (provided) => {\n        if(React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.droppableProps,\n            ref: provided.innerRef,\n            provided\n          })\n        }\n        return <div />\n      }\n\n    }\n  </Droppable>\n}\n\ntype DropChildProps = Partial<{provided: DroppableProvided} & DroppableProvidedProps> & React.HTMLAttributes<HTMLDivElement>;\n// 如果想在自定义组件上使用 ref={ref} 这样的功能，需要使用forwardRef\nexport const DropChild = React.forwardRef<HTMLDivElement, DropChildProps>(\n  ({children, ...props}, ref) => <div ref={ref} {...props}>\n    {children}\n    {props.provided?.placeholder}\n  </div>\n);\n\ntype DragProps = Omit<DraggableProps, 'children'> & {children: ReactNode};\nexport const Drag = ({children, ...props}: DragProps) => {\n  return <Draggable {...props}>\n    {\n      (provided) => {\n        if(React.isValidElement(children)) {\n          return React.cloneElement(children, {\n            ...provided.draggableProps,\n            ...provided.dragHandleProps,\n            ref: provided.innerRef,\n          });\n        }\n        return <div />\n      }\n    }\n  </Draggable>\n}","import React from 'react'\nimport { Kanban } from '../../types/kanban';\nimport { useTasks } from '../../utils/task'\nimport { useKanbansQueryKey, useTasksModal, useTasksSearchParams } from './utils';\nimport { useTaskTypes } from '../../utils/task-type';\nimport taskIcon from '../../assets/task.svg';\nimport bugIcon from '../../assets/bug.svg';\nimport styled from '@emotion/styled';\nimport { Button, Card, Dropdown, Menu, Modal } from 'antd';\nimport { CreateTask } from './create-task';\nimport { Task } from '../../types/task';\nimport { Mark } from '../../componets/mark';\nimport { Row } from '../../componets/lib';\nimport { useDeleteKanban } from '../../utils/kanban';\nimport { Drag, Drop, DropChild } from '../../componets/drag-and-drop';\nconst TaskTypeIcon = ({id}: {id: number}) => {\n  const { data: taskTypes } = useTaskTypes();\n  const name = taskTypes?.find(taskType => taskType.id === id)?.name;\n  if (!name) return null;\n  // eslint-disable-next-line jsx-a11y/alt-text\n  return <img alt={'task-icon'} src={name === 'task' ? taskIcon : bugIcon } />;\n};\n\nconst TaskCard = ({task}: {task: Task}) => {\n  const { startEdit } = useTasksModal();\n  const { name: keyword } = useTasksSearchParams();\n  return <Card key={task.id} style={{marginBottom: '0.5rem', cursor: 'pointer' }} onClick={() => startEdit(task.id)}>\n    <p>\n      <Mark name={task.name} keyword={keyword} />\n    </p>\n    <TaskTypeIcon id={task.typeId} />\n  </Card>;\n}\n\nexport const KanbanColumn = React.forwardRef<HTMLDivElement, {kanban: Kanban}>(({ kanban, ...props }, ref) => {\n  const { data: allTasks } = useTasks(useTasksSearchParams());\n  const tasks = allTasks?.filter(task => task.kanbanId === kanban.id);  \n  return <Container ref={ref} {...props}>\n    <Row between={true}>\n      <h3>{kanban.name}</h3>\n      <More kanban={kanban} key={kanban.id} />\n    </Row>\n    <TasksContainer>\n      <Drop type={'ROW'} direction={'vertical'} droppableId={String(kanban.id)}>\n        <DropChild style={{minHeight: '5px'}}>\n          {tasks?.map((task, taskIndex) => \n            <Drag key={task.id} index={taskIndex} draggableId={`task${task.id}`}>\n              <div>\n                {/* html自带的元素可以接受ref */}\n                <TaskCard key={task.id} task={task} />\n              </div>\n            </Drag>\n          )}\n        </DropChild>\n      </Drop>\n      <CreateTask kanbanId={kanban.id} />\n    </TasksContainer>\n  </Container>\n});\n\n\nconst More = ({kanban}: {kanban: Kanban}) => {\n  const { mutateAsync } = useDeleteKanban(useKanbansQueryKey());\n  const startEdit = () => {\n    Modal.confirm({\n      okText: '确定',\n      cancelText: '取消',\n      title: '确定删除看板吗？',\n      onOk() {\n        return mutateAsync({id: kanban.id});\n      }\n    });\n  }\n  const overlay = <Menu>\n    <Menu.Item onClick={startEdit} key={'delete'}>\n      <Button type={'link'}>删除</Button>\n    </Menu.Item>\n  </Menu>\n  return <Dropdown overlay={overlay}>\n    <Button type={'link'}>...</Button>\n  </Dropdown>\n}\n\nexport const Container = styled.div`\n  min-width: 27rem;\n  border-radius: 6px;\n  background-color: rgb(244, 245, 247);\n  display: flex;\n  flex-direction: column;\n  padding: 0.7rem 0.7rem 1rem;\n  margin-right: 1.5rem;\n`\n\nconst TasksContainer = styled.div`\n  overflow: scroll;\n  flex: 1;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`","import React from 'react';\nimport { useTaskTypes } from '../utils/task-type';\nimport { IdSelect } from './id-select';\n\n\nexport const TaskTypeSelect = (props: React.ComponentProps<typeof IdSelect>) => {\n  const {data: TaskTypes} = useTaskTypes();\n  return <IdSelect options={TaskTypes || []} {...props}>\n\n\n  </IdSelect>\n}","import React from 'react';\nimport { useTasksSearchParams } from './utils';\nimport { useSetUrlSearchParam } from '../../utils/url';\nimport { Row } from '../../componets/lib';\nimport { Button, Input } from 'antd';\nimport { UserSelect } from '../../componets/user-select';\nimport { TaskTypeSelect } from '../../componets/task-type-select';\nexport const SearchPanel = () => {\n  const searchParams = useTasksSearchParams();\n  const setSearchParams = useSetUrlSearchParam();\n  const reset = () => {\n    setSearchParams({\n      name: undefined,\n      typeId: undefined,\n      processorId: undefined,\n      tagId: undefined\n    })\n  };\n  return <Row marginBottom={4} gap={true}>\n    <Input style={{width: '20rem'}} placeholder={'任务名'} value={searchParams.name} \n      onChange={evt => setSearchParams({name: evt.target.value})} />\n    <UserSelect defaultOptionName={'经办人'} value={searchParams.processorId} \n      onChange={value => setSearchParams({processorId: value})} />\n    <TaskTypeSelect defaultOptionName={'类型'} value={searchParams.typeId} \n      onChange={value => setSearchParams({typeId: value})} />\n    <Button onClick={reset}>清除筛选器</Button>\n  </Row>\n}","import React from 'react';\nimport { useState } from 'react';\nimport { useKanbansQueryKey, useProjectIdInUrl } from './utils';\nimport { useAddKanban } from '../../utils/kanban'; \nimport { Input } from 'antd';\nimport { Container } from './kanban.column';\nexport const CreateKanban = () => {\n  const [name, setName] = useState('');\n  const projectId = useProjectIdInUrl();\n  const { mutateAsync: addKanban } = useAddKanban(useKanbansQueryKey());\n  const submit = async () => {\n    await addKanban({name, projectId});\n    setName('');\n  }\n  return <Container>\n    <Input size={'large'} placeholder={'新建看板名称'} onPressEnter={submit} value={name} onChange={evt => setName(evt.target.value)} />\n  </Container>\n}\n","import React, { useEffect } from 'react';\nimport { useTasksModal, useTasksQueryKey } from './utils';\nimport { useDeleteTask, useEditTask } from '../../utils/task';\nimport { Button, Form, Input, Modal } from 'antd';\nimport { useForm } from 'antd/es/form/Form';\nimport { UserSelect } from '../../componets/user-select';\nimport { TaskTypeSelect } from '../../componets/task-type-select';\nconst layout = {\n  labelCol: { span: 8 },\n  wrapperCol: { span: 16 },\n}\n\nexport const TaskModal = () => {\n  const { editingTask, editingTaskId, close } = useTasksModal();\n  const { mutateAsync: editTask, isLoading: editLoading } = useEditTask(useTasksQueryKey());\n  const { mutate: deleteTask } = useDeleteTask(useTasksQueryKey());\n  const [form] = useForm();\n  const onCancel = () => {\n    close();\n    form.resetFields();\n  };\n\n  const onOk = async () => {\n    await editTask({...editingTask, ...form.getFieldsValue()})\n    close();\n  } \n\n  const startDelete = () => {\n    close();\n    Modal.confirm({\n      okText: '确定',\n      cancelText: '取消',\n      title: '确定删除任务吗？',\n      onOk() {\n        return deleteTask({id: Number(editingTaskId)});\n      }\n    });\n  }\n\n  useEffect(() => {\n    form.setFieldsValue(editingTask);\n  }, [form, editingTask]);\n  // Warning: Instance created by `useForm` is not connected to any Form element. Forget to pass `form` prop?\n  // 警告原因是因为，useForm一上来就会渲染，但是因为Modal没有渲染\n  // 所以需要让modal一上来渲染，加一个属性 forceRender，不管Modal的visble属性是true还是false，都需要渲染一下\n  return <Modal forceRender={true} onCancel={onCancel} onOk={onOk} okText={'确认'} cancelText={'取消'} confirmLoading={editLoading} title={'编辑任务'} visible={!!editingTaskId}>\n    <Form form={form} {...layout} initialValues={editingTask}>\n      <Form.Item label={'任务名'} name={'name'} rules={[{required: true, message: '请输入任务名'}]}>\n        <Input />\n      </Form.Item>\n      <Form.Item label={'经办人'} name={'processorId'}>\n        <UserSelect defaultOptionName={'经办人'} />\n      </Form.Item>\n      <Form.Item label={'类型'} name={'typeId'} rules={[{required: true, message: '请输入任务名'}]}>\n        <TaskTypeSelect />\n      </Form.Item>\n    </Form>\n    <div style={{textAlign: 'right'}}>\n      <Button onClick={startDelete} style={{fontSize: '14px'}} size={'small'}>删除</Button>\n    </div>\n  </Modal>\n\n}","import React, { useCallback } from 'react';\nimport { useDocumentTitle } from '../../utils';\nimport { useKanbans, useReorderKanban } from '../../utils/kanban';\nimport { useKanbanSearchParams, useKanbansQueryKey, useProjectInUrl, useTasksQueryKey, useTasksSearchParams } from './utils';\nimport { KanbanColumn } from './kanban.column';\nimport { SearchPanel } from './search-panel';\nimport { ScreenContainer } from '../../componets/lib';\nimport { useReorderTask, useTasks } from '../../utils/task';\nimport { CreateKanban } from './create-kanban';\nimport styled from '@emotion/styled';\nimport { TaskModal } from './task-modal';\nimport { Spin } from 'antd';\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd';\nimport { Drag, Drop, DropChild } from '../../componets/drag-and-drop';\nexport const KanbanScreen = () => {\n  useDocumentTitle('看板列表');\n\n  const { data: currentProject } = useProjectInUrl();\n  const { data: kanbans, isLoading: kanbanIsLoading } = useKanbans(useKanbanSearchParams());\n  const { isLoading: taskIsLoding } = useTasks(useTasksSearchParams());\n  const isLoading = taskIsLoding || kanbanIsLoading;\n  \n  const onDragEnd = useDragEnd();\n  return <DragDropContext onDragEnd={onDragEnd}>\n    <ScreenContainer>\n      <h1>{currentProject?.name}看板</h1>\n      <SearchPanel />\n      {isLoading ? <Spin size={'large'} /> : \n        <ColumnsContainer>\n          <Drop type={'COLUMN'} direction={'horizontal'} droppableId={'kanban'}>\n            <DropChild style={{display: 'flex'}}>\n              {kanbans?.map((kanban, index) => \n                <Drag key={kanban.id} draggableId={`kanban${kanban.id}`} index={index}>\n                  <KanbanColumn kanban={kanban} key={index} />\n                </Drag>\n              )}\n            </DropChild>\n          </Drop>\n          <CreateKanban />\n        </ColumnsContainer>\n      }\n      <TaskModal />\n    </ScreenContainer>\n  </DragDropContext>\n}\n\n\nexport const useDragEnd = () => {\n  const { data: kanbans } = useKanbans(useKanbanSearchParams());\n  const { mutate: reorderKanban } = useReorderKanban(useKanbansQueryKey());\n  const { mutate: reorderTask } = useReorderTask(useTasksQueryKey());\n  const { data: allTasks = [] } = useTasks(useTasksSearchParams());\n  \n  return useCallback(({source, destination, type}: DropResult) => {\n    if(!destination) {\n      return;\n    }\n    if(type === 'COLUMN') { // 看板排序\n      const fromId = kanbans?.[source.index].id;\n      const toId = kanbans?.[destination.index].id;\n      if(!fromId || !toId || fromId === toId) {\n        return;\n      }\n      const type = destination.index > source.index ? 'after': 'before';\n      reorderKanban({fromId, referenceId: toId, type });\n    }\n\n    if(type === 'ROW') {\n      const fromKanbanId = +source.droppableId;\n      const toKanbanId = +destination.droppableId;\n      if(fromKanbanId === toKanbanId) { // 跨看板排序\n        return;\n      }\n      const fromTask = allTasks?.filter(task => task.kanbanId === fromKanbanId)[source.index];\n      const toTask = allTasks?.filter(task => task.kanbanId === toKanbanId)[destination.index];\n      if(fromTask?.id === toTask?.id) {\n        return;\n      }\n      reorderTask({\n        fromId: fromTask?.id,\n        referenceId: toTask?.id,\n        fromKanbanId,\n        toKanbanId,\n        type: fromKanbanId === toKanbanId && destination.index > source.index ? 'after': 'before'\n      });\n    }\n\n\n  }, [allTasks, kanbans, reorderKanban, reorderTask])\n}\n\nexport const ColumnsContainer = styled('div')`\n  display: flex;\n  overflow-x: scroll;\n  flex: 1;\n`","import { useProjectIdInUrl } from '../kanban/utils';\nexport const useEpicSearchParams = () => ({projectId: useProjectIdInUrl()})\n\nexport const useEpicsQueryKey = () => ['kanbans', useEpicSearchParams()];","import React, { useEffect } from 'react';\nimport { Button, Drawer, DrawerProps, Form, Input, Spin } from 'antd';\nimport styled from '@emotion/styled';\nimport { useEpicsQueryKey } from './utils';\nimport { useAddEpic } from '../../utils/epic';\nimport { useForm } from 'antd/lib/form/Form';\nimport { ErrorBox } from '../../componets/lib';\nimport { useProjectIdInUrl } from '../kanban/utils';\n\nexport const CreateEpic = (props: Pick<DrawerProps, 'visible'> & {onClose: () => void}) => {\n  const {mutate: addEpic, isLoading, error } = useAddEpic(useEpicsQueryKey());\n  const projectId = useProjectIdInUrl();\n  const [form] = useForm();\n  const onFinish = async (values: any) => {\n    await addEpic({...values, projectId});\n    props.onClose();\n  }\n\n  useEffect(() => {\n    form.resetFields();\n  }, [form, props.visible])\n\n  return <Drawer visible={props.visible}\n    onClose={props.onClose}\n    forceRender={true}\n    destroyOnClose={true}\n    width={'100%'}>\n    <Container>\n      {\n        isLoading ? <Spin size={'large'} /> :\n        <>\n          <h1>创建任务组</h1>\n          <ErrorBox error={error} />\n          <Form form={form} layout={'vertical'} style={{width: '40rem'}} onFinish={onFinish}>\n            <Form.Item label={'名称'} name={'name'} rules={[{required: true, message: '请输入任务组名'}]}>\n              <Input placeholder=\"请输入任务组名称\" />\n            </Form.Item>\n            <Form.Item style={{textAlign: 'right'}}>\n              <Button loading={isLoading} type={'primary'} htmlType={'submit'}>提交</Button>\n            </Form.Item>\n          </Form>\n        </>\n      }\n    </Container>\n  </Drawer>\n}\n\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`","import { useHttp } from \"./http\";\nimport { QueryKey, useMutation, useQuery } from 'react-query';\nimport { Epic } from '../types/epic';\nimport { useAddConfig, useDeleteConfig } from './use-optimistic-options';\n\n\n\nexport const useEpics = (param?: Partial<Epic>) => {\n  const client = useHttp();\n  // param 变化的时候触发\n  return useQuery<Epic[], Error>(['epics', param], () => client('/epics', {data: param}));\n};\n\nexport const useAddEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    (params: Partial<Epic>) => client(`/epics`, {\n      method: 'POST',\n      data: params\n    }), \n    useAddConfig(queryKey)\n  )\n}\n\nexport const useDeleteEpic = (queryKey: QueryKey) => {\n  const client = useHttp();\n  return useMutation(\n    ({id}: {id: number}) => client(`/epics/${id}`, {\n      method: 'DELETE'\n    }), \n    useDeleteConfig(queryKey)\n  )\n}","import React, { useState } from 'react';\nimport { ScreenContainer } from '../../componets/lib';\nimport { useProjectInUrl } from '../kanban/utils';\nimport { useDeleteEpic, useEpics } from '../../utils/epic';\nimport { useEpicSearchParams, useEpicsQueryKey } from './utils';\nimport { Button, List, Modal } from 'antd';\nimport { Row } from '../../componets/lib'; \nimport dayjs from 'dayjs';\nimport { useTasks } from '../../utils/task';\nimport { Link } from 'react-router-dom';\nimport { CreateEpic } from './create-epic';\nimport { Epic } from '../../types/epic';\n \nexport const EpicScreen = () => {\n  const { data: currentProject } = useProjectInUrl();\n  const { data: eipcs } = useEpics(useEpicSearchParams());\n  const { data: tasks } = useTasks({projectId: currentProject?.id});\n  const { mutate: deleteEpic } = useDeleteEpic(useEpicsQueryKey());\n  const [ epicCreateOpen, setEpicCreateOpen ] = useState(false);\n\n  const confirmDeleteEpic = (epic: Epic) => {\n    Modal.confirm({\n      title: `确定删除项目组：${epic.name}`,\n      content: \"点击确定删除\",\n      okText: \"确定\",\n      onOk() {\n        deleteEpic({ id: epic.id });\n      },\n    })\n  }\n\n  return <ScreenContainer>\n    <Row between={true}>\n      <h1>{currentProject?.name} 任务组 </h1>\n      <Button type={'link'} onClick={() => setEpicCreateOpen(true)}>创建任务组</Button>\n    </Row>\n    <List style={{overflow: 'scroll'}} dataSource={eipcs} itemLayout={'vertical'} renderItem={eipc => \n      <List.Item>\n        <List.Item.Meta \n          title={<Row between={true}>\n            <span>{eipc.name}</span>\n            <Button type={'link'} onClick={() => confirmDeleteEpic(eipc)}>删除</Button>\n          </Row>}\n          description={<div>\n            <div>开始时间：{dayjs(eipc.start).format('YYYY-MM-DD')}</div>\n            <div>结束时间：{dayjs(eipc.end).format('YYYY-MM-DD')}</div>\n          </div>}  \n        />\n        <div>\n          {tasks?.filter(task => task.epicId === eipc.id).map(task =>\n            <Link to={`/projects/${currentProject?.id}/kanban?editingTaskId=${task.id}`} key={task.id}>\n              {task.name}\n            </Link>\n          )}\n        </div>\n\n      </List.Item>}\n    />\n    <CreateEpic visible={epicCreateOpen} onClose={() => setEpicCreateOpen(false)} />\n  </ScreenContainer>\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Routes, Route, Navigate, useLocation } from 'react-router';\nimport { KanbanScreen } from '../kanban';\nimport { EpicScreen } from '../epic';\nimport styled from '@emotion/styled';\nimport { Menu } from 'antd';\nconst useRouteType = () => {\n  const units = useLocation().pathname.split('/');\n  return units[units.length - 1];\n}\n\nexport const ProjectScreen = () => {\n  const routeType = useRouteType();\n  return <Container>\n    <Aside>\n      <Menu mode={'inline'} selectedKeys={[routeType]}>\n        <Menu.Item key={'kanban'}>\n          <Link to={'kanban'}>看板</Link>\n        </Menu.Item>\n        <Menu.Item key={'epic'}>\n          <Link to={'epic'}>任务组</Link>\n        </Menu.Item>\n      </Menu>\n    </Aside>\n    <Main>\n      <Routes>\n        <Route path={'/kanban'} element={<KanbanScreen />} />\n        <Route path={'/epic'} element={<EpicScreen />} />\n        <Navigate to={window.location.pathname + '/kanban'} replace={true} />\n      </Routes>\n    </Main>\n  </Container>\n}\n\nconst Aside = styled.aside`\n  background-color: rgb(244, 245, 247);\n  display: flex;\n`\n\nconst Main = styled.div`\n  box-shadow: -5px 0 5px -5px rgba(0, 0, 0, 0.1);\n  display: flex;\n  overflow: hidden;\n  width: 100%;\n`\n\nconst Container = styled.div`\n  display: grid;\n  grid-template-columns: 16rem 1fr;\n  width: 100%;\n`","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u9875\\\\u9762-1\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"iPhone-11-Pro\\\\u5907\\\\u4EFD-4\",\n  transform: \"translate(-153.000000, -160.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u7F16\\\\u7EC4\",\n  transform: \"translate(153.000000, 160.000000)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"\\\\u692D\\\\u5706\\\\u5F62\",\n  fill: \"#E0550D\",\n  cx: 34,\n  cy: 34,\n  r: 34\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"\\\\u67AB\\\\u53F6\",\n  transform: \"translate(34.500000, 34.000000) scale(-1, 1) translate(-34.500000, -34.000000) translate(13.000000, 14.000000)\",\n  fill: \"#FFFFFF\",\n  fillRule: \"nonzero\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.8235616,28.8157857 C40.4520251,28.8923501 37.5000483,33.8949548 37.1568003,34.2994839 C35.8417671,35.8169662 34.1742568,37.6897313 31.9672514,37.5211713 C30.459072,37.4047373 29.4598948,36.1632413 28.5064938,35.1977318 C28.3747026,35.0597386 25.6834288,31.8626374 26.323927,31.9301205 C29.1164253,32.2273707 31.4614239,32.0220421 34.2048974,31.6664641 C31.6606244,31.6542079 28.3623725,32.0127392 26.3762005,29.9958528 C28.1110462,28.3713132 30.2597976,27.2525271 31.8751821,25.4899204 C33.3251814,23.9051765 34.226235,22.0261356 35.4676571,20.3156548 C34.226235,22.0261356 32.512727,23.4208343 30.7624503,24.5733619 C29.1531201,25.6247388 27.8259783,27.0716371 25.9192503,27.5374473 C24.9690241,27.764335 21.0423826,13.247065 20.1749228,11.6990898 C20.5918558,13.0447636 20.6899794,14.2984419 20.886005,15.6839114 C21.1741739,17.6947435 21.7443095,19.7148047 22.1520134,21.7104273 C22.6118431,23.9113046 23.1482373,26.1428224 23.773526,28.2916477 C23.8562923,28.5766417 18.4154171,27.08094 18.05061,26.9642106 C15.7976068,26.2133326 13.5722171,25.3948239 11.4877738,24.2575058 C14.2649149,27.6508542 20.2024624,30.1032055 24.536734,30.4954784 C22.001764,32.6503579 18.035179,32.8802728 14.8228682,32.9814235 C17.992356,33.7416783 22.3726992,33.7876022 25.3981395,32.7791221 C26.7774809,32.3161914 25.8762797,37.5916815 25.309245,38.1680191 C23.5804536,39.9151949 20.5487375,40.1880065 18.280451,39.7649454 C15.221343,39.1948097 9.04472545,35.7432074 8.18952192,32.478697 C9.77729295,31.8534084 11.4754438,31.3966796 13.0817468,30.7712433 C10.1911988,31.4580345 6.94189788,29.0118113 5.15795352,27.043876 C4.55104918,26.3757644 0.39441893,19.6013978 0.0235575544,19.678036 C3.15324954,19.0496464 6.94197172,18.0687797 10.1574572,18.4826855 C11.9414754,18.7124527 15.5369776,21.1065501 16.4810756,22.6391681 C11.6593609,14.8257546 15.4266716,7.45061171 18.9701217,0.0325720374 C25.2417619,4.46194007 31.1823365,11.6531659 28.2334607,19.972333 C30.6305114,13.1121728 36.1480987,11.4906602 42.1713659,9.421648 C43.0786953,16.4840358 41.4693651,24.8492745 35.5318177,29.5636365 C36.8963188,28.9751904 38.3461704,28.6348957 39.8235616,28.8157857 L39.8235616,28.8157857 Z\",\n  id: \"\\\\u8DEF\\\\u5F84\"\n})))));\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"68px\",\n    height: \"68px\",\n    viewBox: \"0 0 68 68\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"\\u7F16\\u7EC4\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.551b5c46.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect } from 'react';\nimport { Drawer, Button, Spin, Form, Input } from 'antd';\nimport { useProjectModal, useProjectsQueryKey } from './utils';\nimport { UserSelect } from '../../componets/user-select';\nimport { useAddProject, useEditProject } from '../../utils/project';\nimport { useForm } from 'antd/es/form/Form';\nimport { ErrorBox } from '../../componets/lib'\nimport styled from '@emotion/styled';\n\nexport const ProjectModal = () => {\n  const {projectModalOpen, close, editingProject, isLoading} = useProjectModal();\n  const useMutateProject = editingProject ? useEditProject: useAddProject;\n  \n  const {mutateAsync, error, isLoading: mutateLoading} = useMutateProject(useProjectsQueryKey());\n  const [form] = useForm();\n  const onFinish = (values: any) => {\n    mutateAsync({...editingProject, ...values}).then(() => {\n      form.resetFields();\n      close();\n    });\n  };\n\n  const closeModal = () => {\n    form.resetFields();\n    close();\n  };\n\n  const title = editingProject ? '编辑项目': '创建项目';\n\n  useEffect(() => {\n    form.setFieldsValue(editingProject);\n  }, [editingProject, form])\n  // forceRender={true} 不管是否显示还是隐藏，强制刷新\n  return <Drawer forceRender={true} width={'100%'} onClose={closeModal} visible={projectModalOpen}>\n    <Container>\n      {\n        isLoading ? <Spin size={'large'} /> : <>\n          <h1>{title}</h1>\n          <ErrorBox error={error} />\n          <Form form={form} layout={'vertical'} style={{width: '40rem'}} onFinish={onFinish}>\n            <Form.Item label={'名称'} name={'name'} rules={[{required: true, message: '请输入项目名'}]}>\n              <Input placeholder=\"请输入项目名称\" />\n            </Form.Item>\n            <Form.Item label={'部门'} name={'organization'} rules={[{required: true, message: '请输入部门名称'}]}>\n              <Input placeholder=\"请输入部门名称\" />\n            </Form.Item>\n            <Form.Item label={'负责人'} name={'personId'}>\n              <UserSelect defaultOptionName={'负责人'}></UserSelect>\n            </Form.Item>\n            <Form.Item style={{textAlign: 'right'}}>\n              <Button loading={mutateLoading} type={'primary'} htmlType={'submit'}>提交</Button>\n            </Form.Item>\n          </Form>\n        </>\n      }\n    </Container>\n  </Drawer>\n\n}\n\n\n\nconst Container = styled.div`\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`","import React from 'react';\nimport { Popover, Typography, List, Divider } from 'antd';\nimport { useProjects } from '../utils/project';\nimport { ButtonNoPadding } from './lib';\nimport styled from '@emotion/styled';\nimport { useProjectModal } from '../screens/project-list/utils';\nexport const ProjectPopover = () => {\n  const {open} = useProjectModal();\n  const {data: projects, refetch } = useProjects();\n  const pinnedProjects = projects?.filter(project => project.pin);\n  const content = <ContentContainer>\n    <Typography.Text type={'secondary'}>收藏项目</Typography.Text>\n    <List>\n      {\n        pinnedProjects?.map(project => <List.Item key={project.name} >\n          <List.Item.Meta title={project.name} />\n        </List.Item>)\n      }\n    </List>\n    <Divider />\n    <ButtonNoPadding onClick={open} type={'link'}>创建项目</ButtonNoPadding>\n  </ContentContainer>\n  return <Popover onVisibleChange={() => refetch()} placement={'bottom'} content={content}>\n    <span>项目</span>\n  </Popover>\n}\n\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n\n`","import React from 'react';\nimport { Popover, Typography, List, Divider } from 'antd';\nimport styled from '@emotion/styled';\nimport { useUsers } from '../utils/user';\nexport const UserPopover = () => {\n  const {data: users, refetch } = useUsers();\n  const content = <ContentContainer>\n    <Typography.Text type={'secondary'}>组员列表</Typography.Text>\n    <List>\n      {\n        users?.map(user => <List.Item key={user.id} >\n          <List.Item.Meta title={user.name} />\n        </List.Item>)\n      }\n    </List>\n    <Divider />\n  </ContentContainer>\n  return <Popover onVisibleChange={() => refetch()} placement={'bottom'} content={content}>\n    <span>组员</span>\n  </Popover>\n}\n\nconst ContentContainer = styled.div`\n  min-width: 30rem;\n`","import React from \"react\";\nimport { useAuth } from './context/auth-context';\nimport { ProjectListScreen } from \"./screens/project-list\";\nimport { ProjectScreen } from './screens/project';\nimport styled from '@emotion/styled';\nimport { Row, ButtonNoPadding } from './componets/lib'\nimport {ReactComponent as Logo} from '@/assets/logo.svg'\nimport { Dropdown, Menu, Button } from 'antd';\nimport { Route, Routes, Navigate } from 'react-router';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { resetRoute } from './utils'\nimport { ProjectModal } from './screens/project-list/project-modal';\nimport { ProjectPopover } from './componets/project-popover';\nimport { UserPopover } from './componets/user-popover';\n/** \n * grid 和 flex 各自的应用场景\n * 1. 要考虑，是一维布局 还是 二维布局\n * 一般来说，一维布局用flex，二维用grid\n * 2. 是从内容出发还是从布局出发？\n * 从内容出发：你先有一组内容(数量一般不固定)，然后希望他们均匀的分布在容器中，由内容自己的大小决定战局的空间\n * 从布局出发：先规划网格(数量一般比较固定)，然后再把元素往里填充\n * 从内容出发：用flex\n * 从布局出发：用grid\n *\n*/\n\nexport const AuthenticatedApp = () => {\n  return <Container>\n    <Router>\n      <PageHeader />\n      <Main>\n        <Routes>\n          <Route path={'/projects'} element={<ProjectListScreen />} />\n          <Route path={'/projects/:projectId/*'} element={<ProjectScreen />} />\n          <Navigate to={'/projects'} />\n        </Routes>\n      </Main>\n      <ProjectModal />\n    </Router>\n  </Container>;\n};\n\nconst PageHeader = () => {\n  return <Header between={true}>\n    <HeaderLeft gap={true}>\n      <ButtonNoPadding type={'link'} onClick={resetRoute}>\n        <Logo height={'3rem'} width={'3rem'} color={'rgb(38, 132, 255)'}/>\n      </ButtonNoPadding>\n      <ProjectPopover />\n      <UserPopover />\n      {/* <HeaderItem>项目</HeaderItem> */}\n      <HeaderItem as={'div'}>Look</HeaderItem>\n    </HeaderLeft>\n    <HeaderRight>\n      <User />\n    </HeaderRight>\n  </Header> \n}\n\nconst User = () => {\n  const {user, logout} = useAuth();\n\n  return <Dropdown overlay={\n    <Menu>\n      <Menu.Item key={'logout'}>\n        <Button type={'link'} onClick={logout}>退出登录</Button>\n      </Menu.Item>\n    </Menu>}>\n    <Button type={'link'} onClick={e => e.preventDefault()}>\n      Hi, {user?.name}\n    </Button>\n  </Dropdown>;\n}\n\nconst HeaderItem = styled.h3`\n  margin-right: 3rem;\n`\n// temporal dead zone(暂时性死区)，const并不是没有变量声明提升，只是不允许在定义前使用\nconst Container = styled.div`\n  /* display: grid; */\n  /* 将整个区域竖着分为3份 上中下，上下占6rem，中间占剩下的，按照100vh来分 */\n  /* grid-template-rows: 6rem 1fr 6rem; */\n  /* 将整个区域横着分为3份 左中右，左右占20rem，中间占剩下的*/\n  /* grid-template-columns: 20rem 1fr 20rem; */\n  height: 100vh;\n`\n// grid-area 用来给grid起名字\nconst Header = styled(Row)`\n  padding: 2.2rem;\n  box-shadow: 0 0 5px rgba(0,0,0,0.1);\n  z-index: 1;\n  /* grid-area: header;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between; */\n`\nconst HeaderLeft = styled(Row)`\n  display: flex;\n  align-items: center;\n`\nconst HeaderRight = styled.div`\n  \n`\nconst Main = styled.main`\n  /* grid-area: main */\n  display: flex;\n  overflow: hidden;\n`\n\n\n\n\n\n\n\n\n\n\n\n\n// const Container = styled.div`\n//   display: grid;\n//   /* 将整个区域竖着分为3份 上中下，上下占6rem，中间占剩下的，按照100vh来分 */\n//   grid-template-rows: 6rem 1fr 6rem;\n//   /* 将整个区域横着分为3份 左中右，左右占20rem，中间占剩下的*/\n//   grid-template-columns: 20rem 1fr 20rem;\n//   /* 这个是将下面对应的名字按照所占分数划分\n//    比如 header 占上面三分*/\n//   grid-template-areas:\n//     \"header header header\"\n//     \"nav main aside\"\n//     \"footer footer footer\"\n//   ;\n//   height: 100vh;\n//   /* grid-gap：形容他们之间的每一块距离为10rem */\n//   grid-gap: 10rem;\n// `\n// // grid-area 用来给grid起名字\n// const Header = styled.header`\n//   grid-area: header;\n//   display: flex;\n//   flex-direction: row;\n//   align-items: center;\n//   justify-content: space-between;\n// `\n// const HeaderLeft = styled.div`\n//   display: flex;\n//   align-items: center;\n// `\n// const HeaderRight = styled.div`\n  \n// `\n// const Main = styled.main`grid-area: main`\n// const Nav = styled.nav`grid-area: nav`\n// const Aside = styled.aside`grid-area: aside`\n// const Footer = styled.footer`grid-area: footer`\n","import React from \"react\";\n\ntype FallbackRender = (props: { error: Error | null }) => React.ReactElement;\n// export class ErrorBoundary extends React.Component<{children: ReactNode, fallbackRender: FallbackRender}> {\nexport class ErrorBoundary extends React.Component<\n  React.PropsWithChildren<{ fallbackRender: FallbackRender }>,\n  { error: Error | null }\n> {\n  state = { error: null };\n  //  当子组件抛出异常，这里会接收到并且调用\n  static getDerivedStateFromError(error: Error) {\n    return { error };\n  }\n  render() {\n    const { error } = this.state;\n    const { fallbackRender, children } = this.props;\n    if (error) {\n      return fallbackRender(error);\n    }\n    return children;\n  }\n}\n","import React from \"react\";\nimport \"./App.css\";\n\nimport { useAuth } from \"./context/auth-context\";\nimport { UnauthenticatedApp } from \"./unauthenticated-app\";\nimport { AuthenticatedApp } from \"./authenticated-app\";\nimport { FullPageErrorCallback } from \"./componets/lib\";\nimport { ErrorBoundary } from \"./componets/error-boundary\";\n\nfunction App() {\n  const { user } = useAuth();\n  return (\n    <div className=\"App\">\n      <ErrorBoundary fallbackRender={FullPageErrorCallback}>\n        {user ? <AuthenticatedApp /> : <UnauthenticatedApp />}\n      </ErrorBoundary>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { ReactNode } from \"react\";\nimport { AuthProvider } from './auth-context';\nimport {QueryClientProvider, QueryClient} from 'react-query';\nexport const AppProviders = ({ children }: { children: ReactNode }) => {\n  return <QueryClientProvider client={new QueryClient()}> \n    <AuthProvider>{children}</AuthProvider>\n  </QueryClientProvider>\n};\n","import './wdyr';  // 监听页面是否陷入无限加载\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { DevTools, loadServer } from 'jira-dev-tool';\nimport 'antd/dist/antd.less'\nimport { AppProviders } from './context';\n\nloadServer(() => ReactDOM.render(\n  // <React.StrictMode>\n    <AppProviders>\n      <DevTools />\n      <App /> \n    </AppProviders>,\n  // </React.StrictMode>,\n  document.getElementById('root')\n));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}